<Window x:Class="Pharmacy_Manage.GUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MediTrack Pro Login" Height="650" Width="1000"
        WindowStartupLocation="CenterScreen" WindowStyle="None" 
        AllowsTransparency="True" Background="Transparent">

    <Window.Resources>
        <Style TargetType="Control">
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="border" CornerRadius="5" BorderBrush="#E0E0E0" BorderThickness="1" Background="White" Padding="10,0">
                            <ScrollViewer x:Name="PART_ContentHost" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#2C9BB3"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="PasswordBox">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border x:Name="border" CornerRadius="5" BorderBrush="#E0E0E0" BorderThickness="1" Background="White" Padding="10,0">
                            <ScrollViewer x:Name="PART_ContentHost" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#2C9BB3"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Border CornerRadius="20" Margin="20" Background="White">
        <Border.Effect>
            <DropShadowEffect BlurRadius="30" Color="Black" Opacity="0.25" ShadowDepth="10"/>
        </Border.Effect>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1.1*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" CornerRadius="20,0,0,20" MouseDown="Window_MouseDown">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#3B68A8" Offset="0"/>
                        <GradientStop Color="#2C8DA5" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>

                <Grid Margin="40">
                    <StackPanel VerticalAlignment="Top" Margin="0,20,0,0">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <TextBlock Text="MediTrack" Foreground="White" FontSize="28" FontWeight="Bold"/>
                            <Border Background="#4596A6" CornerRadius="5" Margin="10,5,0,5" Padding="8,2">
                                <TextBlock Text="Pro" Foreground="White" FontWeight="Bold" FontSize="12"/>
                            </Border>
                        </StackPanel>
                        <TextBlock Text="Pharmacy Management Portal" Foreground="White" FontSize="18" Opacity="0.9" FontWeight="SemiBold" Margin="0,0,0,30"/>

                        <StackPanel Orientation="Horizontal" Margin="0,0,0,30">
                            <Button Content="ℹ Hướng dẫn" Width="110" Height="35" Background="#5D99C6" Foreground="White" BorderThickness="0" Margin="0,0,10,0" Cursor="Hand">
                                <Button.Resources>
                                    <Style TargetType="Border">
                                        <Setter Property="CornerRadius" Value="15"/>
                                    </Style>
                                </Button.Resources>
                            </Button>
                            <Button Content="📞 Hỗ trợ" Width="100" Height="35" Background="Transparent" Foreground="White" BorderBrush="White" BorderThickness="1" Cursor="Hand">
                                <Button.Resources>
                                    <Style TargetType="Border">
                                        <Setter Property="CornerRadius" Value="15"/>
                                    </Style>
                                </Button.Resources>
                            </Button>
                        </StackPanel>
                    </StackPanel>

                    <Viewbox Height="180" VerticalAlignment="Center" Margin="0,40,0,0">
                        <Canvas Width="300" Height="200">
                            <Path Data="M 50,50 L 110,50 L 110,100 Q 80,150 50,150 Q 20,150 20,100 L 20,50 Z" Stroke="White" StrokeThickness="2" Fill="Transparent"/>
                            <Path Data="M 65,80 L 65,120 M 45,100 L 85,100" Stroke="White" StrokeThickness="3"/>
                            <Rectangle Canvas.Left="130" Canvas.Top="70" Width="50" Height="70" RadiusX="5" RadiusY="5" Stroke="White" StrokeThickness="2"/>
                            <Rectangle Canvas.Left="135" Canvas.Top="60" Width="40" Height="10" Fill="White"/>
                            <Line X1="130" Y1="90" X2="180" Y2="90" Stroke="White" StrokeThickness="1"/>
                            <Path Data="M 210,60 Q 260,60 260,120 Q 260,160 220,160" Stroke="White" StrokeThickness="2" Fill="Transparent"/>
                            <Ellipse Canvas.Left="200" Canvas.Top="145" Width="25" Height="25" Stroke="White" StrokeThickness="2"/>
                            <Path Data="M 250,150 A 10,10 0 1 1 270,170 L 280,180 A 10,10 0 1 1 260,200 Z" Stroke="White" StrokeThickness="2" Fill="Transparent"/>
                            <Ellipse Canvas.Left="20" Canvas.Top="100" Width="15" Height="15" Stroke="White" StrokeThickness="1"/>
                        </Canvas>
                    </Viewbox>

                    <TextBlock Text="Hệ thống quản lý dược phẩm thông minh, tối ưu hóa quy trình bán hàng." Foreground="White" FontSize="14" TextAlignment="Left" Opacity="0.8" VerticalAlignment="Bottom" TextWrapping="Wrap" Margin="0,0,20,10"/>
                </Grid>
            </Border>

            <Border Grid.Column="1" Background="White" CornerRadius="0,20,20,0">
                <Grid x:Name="RightPanelContainer">
                    <Grid VerticalAlignment="Top" HorizontalAlignment="Left" Margin="40,-8,0,0">
                        <Border Background="#2C9BB3" CornerRadius="5" Padding="15,10,15,15" Height="60">
                            <Border.Effect>
                                <DropShadowEffect BlurRadius="10" ShadowDepth="2" Direction="270" Opacity="0.3"/>
                            </Border.Effect>
                            <TextBlock Text="Pro" Foreground="White" FontWeight="Bold" FontSize="20" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                        </Border>
                        <Path Data="M 0,0 L 10,0 L 10,10 Z" Fill="#1A5F6E" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="-10,0,0,0"/>
                    </Grid>

                    <Button Content="✕" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="20" Background="Transparent" BorderThickness="0" Foreground="#AAAAAA" FontSize="18" Click="btnExit_Click" Cursor="Hand"/>

                    <Grid Margin="50,60,50,40">

                        <StackPanel x:Name="LoginPanel" Visibility="Visible" VerticalAlignment="Center" Background="Transparent">
                            <TextBlock Text="Đăng Nhập" FontSize="32" FontWeight="Bold" Foreground="#333333" HorizontalAlignment="Center" Margin="0,0,0,30"/>

                            <UniformGrid Columns="3" Margin="0,0,0,25">
                                <RadioButton x:Name="rbAdmin" Content="Quản lý" GroupName="LoginRole" 
                 FontSize="13" Foreground="Gray" Cursor="Hand"
                 VerticalContentAlignment="Center" Checked="LoginRole_Checked"/>

                                <RadioButton x:Name="rbStaff" Content="Nhân viên" GroupName="LoginRole" 
                 FontSize="13" Foreground="Gray" Cursor="Hand"
                 VerticalContentAlignment="Center" Checked="LoginRole_Checked"/>

                                <RadioButton x:Name="rbCust" Content="Khách hàng" IsChecked="True" GroupName="LoginRole" 
                 FontSize="13" FontWeight="Bold" Foreground="#2C9BB3" Cursor="Hand"
                 VerticalContentAlignment="Center" Checked="LoginRole_Checked"/>
                            </UniformGrid>

                            <TextBlock Text="Tài khoản / Email" Foreground="#999999" FontSize="12" Margin="2,0,0,5"/>
                            <TextBox x:Name="txtUsername" Height="45" Margin="0,0,0,15" VerticalContentAlignment="Center"/>

                            <TextBlock Text="Mật khẩu" Foreground="#999999" FontSize="12" Margin="2,0,0,5"/>
                            <PasswordBox x:Name="txtPassword" Height="45" Margin="0,0,0,25" VerticalContentAlignment="Center"/>

                            <Button x:Name="btnLogin" Content="ĐĂNG NHẬP" Height="45" Foreground="White" FontWeight="Bold" FontSize="14" BorderThickness="0" Click="btnLogin_Click" Cursor="Hand">
                                <Button.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Color="#4DB6AC" Offset="0"/>
                                        <GradientStop Color="#2C9BB3" Offset="1"/>
                                    </LinearGradientBrush>
                                </Button.Background>
                                <Button.Resources>
                                    <Style TargetType="Border">
                                        <Setter Property="CornerRadius" Value="5"/>
                                    </Style>
                                </Button.Resources>
                            </Button>

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20">
                                <TextBlock Text="Chưa có tài khoản? " Foreground="#AAAAAA" FontSize="12"/>
                                <TextBlock Text="Đăng ký ngay" Foreground="#2C9BB3" FontWeight="Bold" FontSize="12" Cursor="Hand" MouseLeftButtonUp="SwitchToRegister"/>
                            </StackPanel>
                        </StackPanel>

                        <StackPanel x:Name="RegisterPanel" Visibility="Collapsed" VerticalAlignment="Center" Background="Transparent">
                            <TextBlock Text="Đăng Ký" FontSize="32" FontWeight="Bold" Foreground="#333333" HorizontalAlignment="Center" Margin="0,0,0,15"/>

                            <TextBlock Text="Bạn là ai?" Foreground="#999999" FontSize="12" Margin="2,0,0,5"/>
                            <UniformGrid Columns="3" Margin="0,0,0,15">
                                <RadioButton x:Name="rbRegAdmin" Content="Quản lý" GroupName="RegRole" 
                                             FontSize="12" Foreground="Gray" VerticalContentAlignment="Center" Checked="RegRole_Checked"/>
                                <RadioButton x:Name="rbRegStaff" Content="Nhân viên" GroupName="RegRole" 
                                             FontSize="12" Foreground="Gray" VerticalContentAlignment="Center" Checked="RegRole_Checked"/>
                                <RadioButton x:Name="rbRegCust" Content="Khách hàng" IsChecked="True" GroupName="RegRole" 
                                             FontSize="12" FontWeight="Bold" Foreground="#2C9BB3" VerticalContentAlignment="Center" Checked="RegRole_Checked"/>
                            </UniformGrid>

                            <TextBlock Text="Họ và tên" Foreground="#999999" FontSize="12" Margin="2,0,0,5"/>
                            <TextBox x:Name="regName" Height="40" Margin="0,0,0,10" VerticalContentAlignment="Center"/>

                            <TextBlock Text="Email" Foreground="#999999" FontSize="12" Margin="2,0,0,5"/>
                            <TextBox x:Name="regEmail" Height="40" Margin="0,0,0,10" VerticalContentAlignment="Center"/>

                            <TextBlock Text="Số điện thoại" Foreground="#999999" FontSize="12" Margin="2,0,0,5"/>
                            <TextBox x:Name="regPhone" Height="40" Margin="0,0,0,10" VerticalContentAlignment="Center"/>

                            <TextBlock Text="Mật khẩu" Foreground="#999999" FontSize="12" Margin="2,0,0,5"/>
                            <PasswordBox x:Name="regPass" Height="40" Margin="0,0,0,20" VerticalContentAlignment="Center"/>

                            <Button x:Name="btnDoRegister" Content="TẠO TÀI KHOẢN" Height="45" Foreground="White" FontWeight="Bold" FontSize="14" BorderThickness="0" Click="btnDoRegister_Click" Cursor="Hand">
                                <Button.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Color="#4DB6AC" Offset="0"/>
                                        <GradientStop Color="#2C9BB3" Offset="1"/>
                                    </LinearGradientBrush>
                                </Button.Background>
                                <Button.Resources>
                                    <Style TargetType="Border">
                                        <Setter Property="CornerRadius" Value="5"/>
                                    </Style>
                                </Button.Resources>
                            </Button>

                            <TextBlock Text="Quay lại Đăng nhập" Foreground="#AAAAAA" FontSize="12" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,20" Cursor="Hand" MouseLeftButtonUp="SwitchToLogin"/>
                        </StackPanel>
                    </Grid>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>